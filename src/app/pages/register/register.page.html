<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list class="ion-padding" lines="full">
    <ion-list-header>
      <ion-label class="ion-text-center">
        <h1>
          Registrarse
        </h1>
      </ion-label>
    </ion-list-header>
    <form action="" novalidate [formGroup]="formularioRegistrarse" (ngSubmit)="registrarse()">
      <ion-item>
        <ion-label position="floating">Nombre</ion-label>
        <ion-input type="text" formControlName="nombre"></ion-input>
        <div class="container-messages-errors" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
          <ion-note color="danger" *ngIf="nombre.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="nombre.errors.minlength">Tiene que tener minimo 4 caracteres</ion-note>
          <ion-note color="danger" *ngIf="nombre.errors.maxlength">Tiene que tener maximo 20 caracteres</ion-note>
        </div>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Apellido</ion-label>
        <ion-input type="text" formControlName="apellido"></ion-input>
        <div class="container-messages-errors" *ngIf="apellido.invalid && (apellido.dirty || apellido.touched)">
          <ion-note color="danger" *ngIf="apellido.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="apellido.errors.minlength">Tiene que tener minimo 4 caracteres</ion-note>
          <ion-note color="danger" *ngIf="apellido.errors.maxlength">Tiene que tener maximo 20 caracteres</ion-note>
        </div>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Nombre Usuario</ion-label>
        <ion-input type="text" formControlName="nombre_usuario"></ion-input>
        <div class="container-messages-errors" *ngIf="nombre_usuario.invalid && (nombre_usuario.dirty || nombre_usuario.touched)">
          <ion-note color="danger" *ngIf="nombre_usuario.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="nombre_usuario.errors.minlength">Tiene que tener minimo 5 caracteres</ion-note>
          <ion-note color="danger" *ngIf="nombre_usuario.errors.maxlength">Tiene que tener maximo 15 caracteres</ion-note>
        </div>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Edad</ion-label>
        <ion-input type="number" formControlName="edad"></ion-input>
        <div class="container-messages-errors" *ngIf="edad.invalid && (edad.dirty || edad.touched)">
          <ion-note color="danger" *ngIf="edad.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="edad.errors.min">Tiene que ser mayor de edad</ion-note>
          <ion-note color="danger" *ngIf="edad.errors.max">No puede superar a los 98 años</ion-note>
        </div>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Correo</ion-label>
        <ion-input type="email" formControlName="correo"></ion-input>
        <div class="container-messages-errors" *ngIf="correo.invalid && (correo.dirty || correo.touched)">
          <ion-note color="danger" *ngIf="correo.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="correo.errors.email">Tiene que ingresar una direccion de correo valida</ion-note>
        </div>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Contraseña</ion-label>
        <ion-input type="password" formControlName="contrasenia"></ion-input>
        <div class="container-messages-errors" *ngIf="contrasenia.invalid && (contrasenia.dirty || contrasenia.touched)">
          <ion-note color="danger" *ngIf="contrasenia.errors.required">Este campo es requerido</ion-note>
          <ion-note color="danger" *ngIf="contrasenia.errors.minlength">Tiene que tener minimo 8 caracteres</ion-note>
          <ion-note color="danger" *ngIf="contrasenia.errors.maxlength">Tiene que tener maximo 16 caracteres</ion-note>
        </div>
      </ion-item>
      <ion-item button="none">
        <ion-label>
          Fecha Nacimiento
        </ion-label>
        <ion-datetime-button datetime="datetime"></ion-datetime-button>

        <ion-modal [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime
            formControlName="fecha_nacimiento"
            #datetime
            id="datetime"
            min="1992-01-01"
            [max]="fechaActual"
            presentation="date"
            size="cover"
            [value]="dateValue"
            (ionChange)="agregarFecha(datetime.value)"
            [showDefaultButtons]="true"
            doneText="Confirmar"
            cancelText="Cancelar"
            >
              <span slot="title">Seleccione su fecha de nacimiento</span>
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>
      <div class="container-messages-errors" *ngIf="fecha_nacimiento.invalid && (fecha_nacimiento.dirty || fecha_nacimiento.touched)">
        <ion-note color="danger" *ngIf="fecha_nacimiento.errors.required">Este campo es requerido</ion-note>
      </div>
      <ion-item>
        <ion-label>Genero</ion-label>
        <ion-segment formControlName="genero">
          <ion-segment-button value="female">
            <ion-label>Mujer</ion-label>
          </ion-segment-button>
          <ion-segment-button value="male">
            <ion-label>Hombre</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-item>
      <ion-button
      expand="block"
      shape="round"
      fill="outline"
      type="submit"
      [disabled]="formularioRegistrarse.invalid"
      >Registrarse</ion-button>
    </form>
  </ion-list>
</ion-content>
